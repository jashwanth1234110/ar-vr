<html>


<head>

<script src="js/aframe.js"></script>
<script src="js/aframe-text-component.min.js"></script>



</head>


<body>

<a-scene>


<a-assets>


<video src="room1.mp4" id="room1_vid">;
<video src="room2.mp4" id="room2_vid">;
<video src="technoroom.mp4" id="technoroom_vid">;
<video src="visitbeach.mp4" id="visitbeach_vid">;
<video src="visitcoast.mp4" id="visitcoast_vid">;


</a-assets>




<!-- cursor -->
  <a-entity position="0 2.2 4">
    <a-entity camera look-controls wasd-controls>
      <a-entity position="0 0 -3" geometry="primitive: ring; radiusOuter: 0.30;radiusInner: 0.20;" material="color: olive" cursor="fuse: true">
        <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1" dur="150"></a-animation>
        <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="1500"></a-animation>
      </a-entity>
    </a-entity>
  </a-entity>
  

<a-entity cbackgnd id="room1" text="text: Room 1" position="5 0 -4" size="3"></a-entity>
<a-entity cbackgnd id="room2" text="text: Room 2" position="5 3 -4" size="3"></a-entity>
<a-entity cbackgnd id="technoroom" text="text: Techno Room" position="5 6 -4" size="3"></a-entity>
<a-entity cbackgnd id="visitbeach" text="text: Visit The Beach" position="5 9 -4" size="3"></a-entity>
<a-entity cbackgnd id="visitcoast" text="text: Visit The Coast" position="5 12 -4" size="3"></a-entity>


<a-videosphere src="#room1_vid" id="backgnd"></a-videosphere>

</a-scene>

<script>

AFRAME.registerComponent('cbackgnd', {

init: function(){

this.el.addEventListener('click', function () {

var next_clicked_id = this.getAttribute("id");// get the id of the clicked text

var backgnd_el = document.getElementById("backgnd"); // get the element for the background

var next_vid_src = "#"+ next_clicked_id +"_vid"; // make the src using the current id

var current_vid_src = backgnd_el.getAttribute("src"); // get the previous 

var current_vid_id = current_vid_src.substring(1, current_vid_src.length);

var current_vid_el = document.getElementById(current_vid_id);
 
var next_vid_el = document.getElementById(next_clicked_id +"_vid");

current_vid_el.pause();

backgnd_el.setAttribute('src',next_vid_src);

next_vid_el.play();

});
}
});


</script>


</body>
</html>